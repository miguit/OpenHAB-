#include <VirtualWire.h>
#include <LiquidCrystal.h>
#include <OneWire.h>
#include <DallasTemperature.h>
#define ONE_WIRE_BUS 13

LiquidCrystal lcd(8, 9, 4, 5, 6, 7);
OneWire oneWire(ONE_WIRE_BUS);
DallasTemperature sensors(&oneWire);

int i;
void setup(){
  sensors.begin();

  vw_set_rx_pin(3);  
  vw_set_tx_pin(2);
  vw_set_ptt_pin(1);
  vw_setup(2000);
  vw_rx_start();



  lcd.begin(16, 2);
  lcd.setCursor(0, 1);
  Serial.begin(9600);
  lcd.print("press select");

}
void loop(void){
  
  String str;
  uint8_t buf[VW_MAX_MESSAGE_LEN];
  uint8_t buflen = VW_MAX_MESSAGE_LEN;
  if( vw_get_message(buf, &buflen) )
  {
    lcd.setCursor(0, 0);
    for (i = 6; i < buflen; i++)
      //Serial.print(char(buf[i]));
      str += char(buf[i]);
    if (i>=buflen){
      Serial.println("");
      Serial.println(str);

      lcd.print(str);
      sensors.requestTemperatures();
  Serial.print("Temperature for Device 1 is: ");
  Serial.print(sensors.getTempCByIndex(0)); // Why "byIndex"? 
      delay(10000);
    }
  }

}
